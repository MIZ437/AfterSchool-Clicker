<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AfterSchool Clicker</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/title.css">
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <!-- タイトル画面 -->
    <div id="title-screen" class="screen">
        <div class="title-container">
            <div class="title-logo">
                <h1>AfterSchool Clicker</h1>
                <p class="subtitle">～放課後のヒロインたち～</p>
            </div>

            <div class="main-character">
                <img id="main-character-image" src="../assets/images/title/main_character.png" alt="メインキャラクター" onerror="this.style.display='none'">
                <div id="main-character-placeholder" class="character-placeholder">
                    <p>メインキャラクター</p>
                </div>
            </div>

            <div class="title-buttons">
                <button id="start-game-btn" class="title-btn">ゲーム開始</button>
                <button id="settings-btn" class="title-btn">設定</button>
                <button id="quit-game-btn" class="title-btn">ゲーム終了</button>
            </div>
        </div>
    </div>

    <!-- ゲーム目的説明画面 -->
    <div id="objective-screen" class="screen hidden">
        <div class="objective-container">
            <h2>ゲームの目的</h2>
            <div class="objective-content">
                <p>放課後の学校で様々なヒロインたちと出会い、</p>
                <p>クリックしてポイントを集めて絆を深めよう！</p>
                <br>
                <p>・ヒロインをクリックしてポイントを獲得</p>
                <p>・ポイントでアイテムを購入して効率アップ</p>
                <p>・ガチャで新しいヒロイン画像を収集</p>
                <p>・ステージを解放して物語を進めよう</p>
            </div>
            <button id="start-stage1-btn" class="objective-btn">ステージ1へ</button>
        </div>
    </div>

    <!-- ゲーム画面 -->
    <div id="game-screen" class="screen hidden">
        <!-- ヘッダー情報 -->
        <div class="game-header">
            <div class="points-info">
                <span class="label">ポイント:</span>
                <span id="current-points">0</span>
            </div>
            <div class="pps-info">
                <span class="label">PPS:</span>
                <span id="points-per-second">0</span>
            </div>
            <div class="stage-info">
                <span class="label">ステージ:</span>
                <span id="current-stage">1</span>
            </div>
            <div class="next-stage-info">
                <span class="label">次のステージ:</span>
                <span id="next-stage-cost">1000</span>
                <span class="label">ポイント</span>
            </div>
        </div>

        <!-- ステージタブ -->
        <div class="stage-tabs">
            <button class="stage-tab active" data-stage="1">教室</button>
            <button class="stage-tab locked" data-stage="2">図書館</button>
            <button class="stage-tab locked" data-stage="3">屋上</button>
            <button class="stage-tab locked" data-stage="4">体育館</button>
        </div>

        <!-- メインゲームエリア -->
        <div class="game-main">
            <div class="heroine-area">
                <div class="heroine-container">
                    <img id="heroine-image" src="../assets/images/heroines/heroine_1_1.png" alt="ヒロイン" onerror="this.style.display='none'">
                    <div id="heroine-placeholder" class="heroine-placeholder">
                        <p>ヒロイン画像</p>
                        <p>クリックしてポイント獲得！</p>
                    </div>
                </div>
                <div id="click-effects"></div>
            </div>

            <div class="side-panel">
                <button id="shop-btn" class="panel-btn">ショップ</button>
                <button id="gacha-btn" class="panel-btn">ガチャ</button>
            </div>
        </div>

        <!-- フッター -->
        <div class="game-footer">
            <button id="album-btn" class="footer-btn">アルバム</button>
            <button id="game-settings-btn" class="footer-btn">設定</button>
            <button id="game-quit-btn" class="footer-btn">ゲーム終了</button>
        </div>
    </div>

    <!-- モーダル: ショップ -->
    <div id="shop-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ショップ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="shop-category">
                    <h4>クリック強化</h4>
                    <div id="click-upgrades" class="shop-items"></div>
                </div>
                <div class="shop-category">
                    <h4>自動獲得</h4>
                    <div id="passive-upgrades" class="shop-items"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- モーダル: ガチャ -->
    <div id="gacha-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ガチャ</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="gacha-stages">
                    <div class="gacha-stage active" data-stage="1">
                        <h4>教室ガチャ</h4>
                        <p>コスト: 100ポイント</p>
                        <button class="gacha-draw-btn" data-stage="1">引く</button>
                    </div>
                </div>
                <div id="gacha-result" class="gacha-result hidden"></div>
            </div>
        </div>
    </div>

    <!-- モーダル: アルバム -->
    <div id="album-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>アルバム</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="album-tabs">
                    <button class="album-tab active" data-stage="1">教室</button>
                    <button class="album-tab locked" data-stage="2">図書館</button>
                    <button class="album-tab locked" data-stage="3">屋上</button>
                    <button class="album-tab locked" data-stage="4">体育館</button>
                </div>
                <div id="album-gallery" class="album-gallery"></div>
            </div>
        </div>
    </div>

    <!-- モーダル: 設定 -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>設定</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <label for="bgm-volume">BGM音量:</label>
                    <input type="range" id="bgm-volume" min="0" max="100" value="70">
                    <span id="bgm-volume-value">70%</span>
                </div>
                <div class="setting-item">
                    <label for="se-volume">SE音量:</label>
                    <input type="range" id="se-volume" min="0" max="100" value="80">
                    <span id="se-volume-value">80%</span>
                </div>
                <div class="setting-item">
                    <button id="reset-save-btn" class="danger-btn">セーブデータリセット</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ステージクリア演出 -->
    <div id="stage-clear-screen" class="screen hidden">
        <div class="stage-clear-container">
            <h2 id="stage-clear-title">ステージクリア！</h2>
            <div id="stage-clear-dialogue" class="dialogue-text"></div>
            <div id="stage-clear-video" class="video-container hidden">
                <video id="reward-video" controls>
                    <source src="" type="video/mp4">
                </video>
            </div>
            <button id="continue-btn" class="continue-btn">続ける</button>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/gameManager.js"></script>
    <script src="js/clickHandler.js"></script>
    <script src="js/shopSystem.js"></script>
    <script src="js/gachaSystem.js"></script>
    <script src="js/stageManager.js"></script>
    <script src="js/albumManager.js"></script>
    <script src="js/saveManager.js"></script>
    <script src="js/assetManager.js"></script>
</body>
</html>